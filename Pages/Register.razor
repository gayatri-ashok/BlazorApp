@page "/register"

<h3>Register for Event</h3>

<div class="card p-4 shadow-sm" style="max-width: 400px;">
    <EditForm Model="formModel" OnValidSubmit="HandleSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="mb-3">
            <label>Name:</label>
            <InputText class="form-control" @bind-Value="formModel.Name" />
        </div>

        <div class="mb-3">
            <label>Email:</label>
            <InputText class="form-control" @bind-Value="formModel.Email" />
        </div>

        <button class="btn btn-primary" type="submit">Submit</button>
    </EditForm>

    @if (successMessage != null)
    {
        <p class="mt-3 text-success">@successMessage</p>
    }
</div>

@code {
    private RegistrationForm formModel = new();
    private string successMessage;

    private void HandleSubmit()
    {
        successMessage = $"Thanks, {formModel.Name}! You’ve registered successfully.";
    }

    private class RegistrationForm
    {
        public string Name { get; set; }
        public string Email { get; set; }
    }
}
